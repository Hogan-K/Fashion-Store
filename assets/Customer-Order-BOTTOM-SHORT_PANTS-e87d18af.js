import{_ as B,al as y,an as N,ao as S,m as a,ap as u,w as t,q as o,n as A,ar as L,af as O,aq as p,v as s,as as c,X as m,t as n,y as j,z as I}from"./index-d89e87bb.js";import{V as Q,a as U,b as x,_ as Y,c as D}from"./VWindowItem-332e18d7.js";import{V as F}from"./VContainer-ca4db1ee.js";import{V as R,a as q,b as h,c as T,d as k,e as C}from"./VTextField-66aec7f7.js";import{V as H,a as M}from"./VRow-de5c6175.js";import{V as f}from"./VSheet-22cfe08a.js";import{V as v}from"./forwardRefs-b66aa403.js";import{V as w}from"./VDivider-92e78969.js";import{V as P}from"./VDialog-03d94927.js";import"./form-a51f5525.js";import"./VMenu-9a0ad320.js";import"./VAvatar-c8004042.js";import"./dialog-transition-f551f88e.js";import"./VCheckboxBtn-db33c0a6.js";import"./VChip-a8c3dad3.js";/* empty css              */const W={name:"Customer-Orders-TOP",data(){return{dialog:!1,dialogBill:!1,onboarding:0,btnLoading:!1,Loading:{cart:!1,caption:!1},product:[],QTY:1,noProduct:!1,haveProduct:!0,inputText:""}},methods:{getProduct(l){let i=this;i.Loading.caption=l,y.get(`https://vue-course-api.hexschool.io/api/hogankai/product/${l}`).then(d=>{i.Loading.caption=!1,i.product=d.data.product}),i.dialog=!0},closeDialog(){let l=this;l.dialog=!1},addtoCart(l,i){let d=this,V={product_id:l,qty:i};d.Loading.cart=l,y.post("https://vue-course-api.hexschool.io/api/hogankai/cart",{data:V}).then(e=>{console.log(e),d.Loading.cart=!1,d.QTY=1,d.$store.dispatch("getCarts"),d.dialog=!1})},dialogBillClose(){this.dialogBill=!1}},watch:{inputText(){let l=this;l.filterProducts.length==0?(l.haveProduct=!1,l.noProduct=!0):(l.haveProduct=!0,l.noProduct=!1)}},computed:{...N(["getProductsAll"]),...S(["productsAll"]),filterProducts(){let l=this;return l.productsAll.filter(function(d){return d.title.match("短褲")}).filter(function(d){return d.title.match(l.inputText)})},cols(){const{sm:l,xs:i}=this.$vuetify.display;return l?[6]:i?[12]:[4]}},created(){this.getProductsAll}},_=l=>(j("data-v-ccdf6e09"),l=l(),I(),l),z={class:"imgBox"},E={class:"d-flex justify-space-between"},G=_(()=>s("span",{class:""},"NT",-1)),X=_(()=>s("span",{class:""},"NT",-1)),J=_(()=>s("h1",null,[s("i",{class:"fa-solid fa-circle-exclamation fs-1"},"找不到此商品")],-1)),K={class:"text-end"},Z={class:"d-flex justify-space-between"},$=_(()=>s("span",{class:""},"NT",-1)),ee=_(()=>s("span",{class:""},"NT",-1)),te={class:"mt-6"};function le(l,i,d,V,e,g){return a(),u(F,null,{default:t(()=>[o(q,null,{default:t(()=>[o(R,{density:"compact",variant:"outlined",label:"Search","append-inner-icon":"mdi-magnify",class:"w-50 ms-auto",modelValue:e.inputText,"onUpdate:modelValue":i[0]||(i[0]=r=>e.inputText=r)},null,8,["modelValue"])]),_:1}),e.haveProduct?(a(),u(H,{key:0},{default:t(()=>[(a(!0),A(O,null,L(g.filterProducts,r=>(a(),u(M,{cols:g.cols[0],key:r.id},{default:t(()=>[o(h,{elevation:"4"},{default:t(()=>[s("div",z,[o(v,{class:"imgTransition",src:`${r.imageUrl}`,cover:"",height:"300"},null,8,["src"])]),o(f,{class:"float-end rounded text-caption ma-2 px-1",color:"grey-darken-2"},{default:t(()=>[n(c(r.category),1)]),_:2},1024),o(T,{class:"text-8F8681"},{default:t(()=>[n(c(r.title),1)]),_:2},1024),o(k,null,{default:t(()=>[s("div",E,[s("div",null,[r.price==r.origin_price?(a(),u(f,{key:0,class:"text-grey-darken-2"},{default:t(()=>[G,n(c(l.$filter.currency(r.origin_price)),1)]),_:2},1024)):p("",!0),r.price!==r.origin_price?(a(),u(f,{key:1,class:"text-grey-lighten-1 text-decoration-line-through"},{default:t(()=>[n(" NT"+c(l.$filter.currency(r.origin_price))+" 元 ",1)]),_:2},1024)):p("",!0)]),s("div",null,[r.price!==r.origin_price?(a(),u(f,{key:0,class:"text-success"},{default:t(()=>[X,n(c(l.$filter.currency(r.price)),1)]),_:2},1024)):p("",!0)])])]),_:2},1024),o(w),o(C,{class:"d-flex justify-space-around"},{default:t(()=>[o(m,{loading:e.Loading.caption==r.id,variant:"outlined",class:"text-8F8681",onClick:b=>g.getProduct(r.id)},{default:t(()=>[n("查看更多 ")]),_:2},1032,["loading","onClick"]),o(m,{loading:e.Loading.cart==r.id,"prepend-icon":"mdi-cart-outline",class:"text-8F8681",variant:"outlined",onClick:b=>g.addtoCart(r.id,1)},{default:t(()=>[n(" 加入購物車 ")]),_:2},1032,["loading","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["cols"]))),128))]),_:1})):p("",!0),e.noProduct?(a(),u(f,{key:1,"min-height":"600",class:"d-flex align-center justify-center bg-brown-lighten-5"},{default:t(()=>[J]),_:1})):p("",!0),o(P,{modelValue:e.dialog,"onUpdate:modelValue":i[3]||(i[3]=r=>e.dialog=r)},{default:t(()=>[o(h,{width:"70%",class:"mx-auto"},{default:t(()=>[o(T,{class:"bg-a67f78 text-white d-flex align-center justify-space-between"},{default:t(()=>[s("p",null,c(e.product.title),1),o(m,{variant:"text",icon:"mdi-close-thick",class:"float-end",onClick:g.closeDialog},null,8,["onClick"])]),_:1}),o(v,{src:e.product.imageUrl,width:"80%",class:"mx-auto my-4"},null,8,["src"]),o(k,null,{default:t(()=>[s("div",null,[s("p",K,c(e.product.description),1),s("p",null,c(e.product.content),1)]),s("div",Z,[s("div",null,[e.product.price==e.product.origin_price?(a(),u(f,{key:0,class:"text-grey-darken-2"},{default:t(()=>[$,n(c(l.$filter.currency(e.product.origin_price)),1)]),_:1})):p("",!0),e.product.price!==e.product.origin_price?(a(),u(f,{key:1,class:"text-red text-decoration-line-through"},{default:t(()=>[n(" NT"+c(l.$filter.currency(e.product.origin_price))+" 元 ",1)]),_:1})):p("",!0)]),s("div",null,[e.product.price!==e.product.origin_price?(a(),u(f,{key:0,class:"text-success"},{default:t(()=>[ee,n(c(l.$filter.currency(e.product.price)),1)]),_:1})):p("",!0)])]),s("div",te,[o(Q,{variant:"solo-filled",label:"選擇數量",items:[1,2,3,4,5,6,7,8,9,10],modelValue:e.QTY,"onUpdate:modelValue":i[1]||(i[1]=r=>e.QTY=r)},null,8,["modelValue"])]),o(w),o(C,null,{default:t(()=>[e.product.price?(a(),u(f,{key:0,class:"ms-auto"},{default:t(()=>[n("小計"+c(l.$filter.currency(e.QTY*e.product.price)),1)]),_:1})):p("",!0),e.product.price?p("",!0):(a(),u(f,{key:1,class:"ms-auto"},{default:t(()=>[n("小計"+c(l.$filter.currency(e.QTY*e.product.origin_price)),1)]),_:1})),o(m,{class:"ml-5","prepend-icon":"mdi-cart-outline",loading:e.Loading.cart==e.product.id,variant:"outlined",onClick:i[2]||(i[2]=r=>g.addtoCart(e.product.id,e.QTY))},{default:t(()=>[n(" 加到購物車 ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(P,{modelValue:e.dialogBill,"onUpdate:modelValue":i[5]||(i[5]=r=>e.dialogBill=r)},{default:t(()=>[o(U,{modelValue:e.onboarding,"onUpdate:modelValue":i[4]||(i[4]=r=>e.onboarding=r),"show-arrows":"hover"},{default:t(()=>[o(x,null,{default:t(()=>[o(h,{elevation:"5",class:"d-flex align-center justify-center ma-2 w-100"},{default:t(()=>[o(v,{src:Y,class:"position-relative"}),o(m,{icon:"mdi-close",variant:"tonal",class:"position-absolute",style:{top:"2%",right:"2%"},onClick:g.dialogBillClose},null,8,["onClick"])]),_:1})]),_:1}),o(x,null,{default:t(()=>[o(h,{elevation:"2",class:"d-flex align-center justify-center ma-2"},{default:t(()=>[o(v,{src:D,class:"position-relative"}),o(m,{icon:"mdi-close",variant:"tonal",class:"position-absolute",style:{top:"2%",right:"1%"},onClick:g.dialogBillClose},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})}const Ve=B(W,[["render",le],["__scopeId","data-v-ccdf6e09"]]);export{Ve as default};
